# ═══════════════════════════════════════════════════════════════
#  POLYMARKET MARKET MAKING BOT - CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# ────────────────────────────────────────────────────────────────
#  🔴 OBLIGATOIRES (5 variables - Le bot ne démarre pas sans)
# ────────────────────────────────────────────────────────────────

# Clé privée de votre EOA (signe les ordres)
PRIVATE_KEY=0x1234567890abcdef...

# Credentials API CLOB Polymarket (créer via create-clob-key)
CLOB_API_KEY=uuid-here
CLOB_API_SECRET=secret-here
CLOB_PASSPHRASE=passphrase-here

# Adresse du proxy Polymarket (où sont vos fonds USDC)
POLY_PROXY_ADDRESS=0xYourProxyAddress

# ────────────────────────────────────────────────────────────────
#  🟡 OPTIONNELLES - Infrastructure (5 variables)
# ────────────────────────────────────────────────────────────────

# RPC Polygon (default: https://polygon-rpc.com)
# RPC_URL=https://polygon-rpc.com

# WebSocket URLs (defaults: URLs officielles Polymarket)
# WSS_URL=wss://ws-subscriptions-clob.polymarket.com/ws/market
# WSS_USER_URL=wss://ws-subscriptions-clob.polymarket.com/ws/user

# API Gamma (default: https://gamma-api.polymarket.com)
# GAMMA_API_URL=https://gamma-api.polymarket.com

# Niveau de logging (default: info)
# LOG_LEVEL=info

# ────────────────────────────────────────────────────────────────
#  🟡 OPTIONNELLES - Sélection Marchés (7 variables)
# ────────────────────────────────────────────────────────────────

# Volume 24h minimum pour sélectionner un marché (default: 5000)
MIN_VOLUME_USDC=50000

# Spread minimum/maximum accepté pour sélection (default: 0.1 / 10)
MIN_SPREAD_CENTS=3
MAX_SPREAD_CENTS=10

# Nombre de marchés à trader simultanément (default: 2)
MAX_ACTIVE_MARKETS=2

# Heures minimum avant fermeture pour sélectionner un marché (default: 48)
MIN_HOURS_TO_CLOSE=48

# Intervalle de rotation des marchés en ms (default: 600000 = 10 min)
MARKET_ROTATION_INTERVAL_MS=600000

# Tampon avant fermeture pour arrêt propre en ms (default: 900000 = 15 min)
MARKET_EXIT_HYSTERESIS_MS=900000

# ────────────────────────────────────────────────────────────────
#  🟡 OPTIONNELLES - Market Making (8 variables)
# ────────────────────────────────────────────────────────────────

# Spread cible pour vos ordres en centimes (default: 3)
TARGET_SPREAD_CENTS=4

# Amélioration de prix en nombre de ticks (default: 1)
# 0 = JOIN-ONLY (rejoint exactement le best bid/ask, peu de fills)
# 1 = Améliore de 1 tick (0.1¢) pour priorité de file (RECOMMANDÉ)
# 2+ = Améliore davantage (plus agressif)
# IMPORTANT: Avec TICK_IMPROVEMENT=1, vos ordres seront au MEILLEUR prix
# et auront la priorité sur les autres market makers au même prix
TICK_IMPROVEMENT=1

# Montant en USDC par ordre (default: 1.5)
NOTIONAL_PER_ORDER_USDC=1.5

# Nombre max d'ordres ouverts simultanément (default: 100)
MAX_ACTIVE_ORDERS=100

# Cooldown entre replacements en ms (default: 1500)
REPLACE_COOLDOWN_MS=1500

# Durée de vie des ordres avant replacement (default: 30000)
ORDER_TTL_MS=30000

# Seuil de mouvement de prix pour replacement (default: 0.001 = 1¢)
PRICE_CHANGE_THRESHOLD=0.001

# Distance max du mid-price acceptée (default: 0.05 = 5¢)
MAX_DISTANCE_FROM_MID=0.05

# ────────────────────────────────────────────────────────────────
#  🟡 OPTIONNELLES - Inventaire (5 variables)
# ────────────────────────────────────────────────────────────────

# Inventaire maximum par token (default: 100)
MAX_INVENTORY=500

# Inventaire maximum spécifique YES/NO (default: 500)
MAX_INVENTORY_YES=500
MAX_INVENTORY_NO=500

# Seuil minimum pour nettoyage inventaire (default: 0.01)
MIN_INVENTORY_CLEANUP=0.01

# Fichier de persistance inventaire (default: .inventory.json)
INVENTORY_PERSISTENCE_FILE=.inventory.json

# ────────────────────────────────────────────────────────────────
#  🟡 OPTIONNELLES - Allowances (2 variables)
# ────────────────────────────────────────────────────────────────

# Seuil minimum d'allowance USDC (default: 100)
ALLOWANCE_THRESHOLD_USDC=100

# Cooldown entre vérifications allowance (default: 30000)
ALLOWANCE_CHECK_COOLDOWN_MS=30000

# ────────────────────────────────────────────────────────────────
#  🟡 OPTIONNELLES - Spread Dynamique (4 variables)
# ────────────────────────────────────────────────────────────────

# Multiplicateurs pour spread serré/large (default: 0.5 / 2.0)
SPREAD_MULTIPLIER_LOW=0.5
SPREAD_MULTIPLIER_HIGH=2.0

# ────────────────────────────────────────────────────────────────
#  🟡 OPTIONNELLES - Stratégie (2 variables)
# ────────────────────────────────────────────────────────────────

# Seuil de parité P(YES)+P(NO) vs 1.0 (default: 0.005)
PARITY_THRESHOLD=0.005

# Skew d'inventaire (default: 0.002 = 0.2% par 100 shares)
INVENTORY_SKEW_LAMBDA=0.002

# ────────────────────────────────────────────────────────────────
#  🟡 OPTIONNELLES - Sizing (4 variables)
# ────────────────────────────────────────────────────────────────

# Taille minimum en shares (default: 5)
MIN_SIZE_SHARES=5

# Notional minimum en USDC (default: 1.0)
MIN_NOTIONAL_USDC=1.0
MIN_NOTIONAL_SELL_USDC=1.0

# Maximum shares par ordre SELL (default: 50)
MAX_SELL_PER_ORDER_SHARES=50

# ────────────────────────────────────────────────────────────────
#  🟡 OPTIONNELLES - Risk Management (2 variables)
# ────────────────────────────────────────────────────────────────

# Capital maximum exposé simultanément (default: 15.0)
MAX_NOTIONAL_AT_RISK_USDC=15.0

# Ajustement auto du notional selon balance (default: false)
AUTO_ADJUST_NOTIONAL=false

# ────────────────────────────────────────────────────────────────
#  🟡 OPTIONNELLES - Métriques (3 variables)
# ────────────────────────────────────────────────────────────────

# Intervalle de réconciliation ordres en ms (default: 60000)
RECONCILE_INTERVAL_MS=60000

# Intervalle de log métriques PnL en ms (default: 60000)
METRICS_LOG_INTERVAL_MS=60000

# Fichier de persistance PnL (default: .pnl.json)
PNL_PERSISTENCE_FILE=.pnl.json

# ────────────────────────────────────────────────────────────────
#  🟡 OPTIONNELLES - Mode (2 variables)
# ────────────────────────────────────────────────────────────────

# Mode test sans ordres réels (default: false)
DRY_RUN=false

# Validation stricte config avec Zod (default: false)
USE_ZOD_VALIDATION=false

# ═══════════════════════════════════════════════════════════════
#  📊 RÉSUMÉ : 47 VARIABLES AU TOTAL
# ═══════════════════════════════════════════════════════════════
#  
#  🔴 Obligatoires:  5 (PRIVATE_KEY, CLOB_*, POLY_PROXY_ADDRESS)
#  🟡 Optionnelles:  42 (toutes avec defaults intelligents)
#
#  Pour démarrer: Remplir uniquement les 5 obligatoires
#  Pour optimiser: Configurer selon vos besoins
#
# ═══════════════════════════════════════════════════════════════
